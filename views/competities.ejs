<%- include('partials/header') %>
<main>
  <section class="comp__container">
    <% leagues.forEach(lg => { %>
      <section class="comp__card">
        <section class="card__icon">
     
        </section>

 <section class="comp__card__content">
          <section class="comp__card__text">
            <p class="comp__card__title"><%= lg.name %></p>
            <p class="comp__card__description">
         
            </p>
          </section>

          <section class="comp__card__buttons">
            <button class="comp__card__button">Blacklist</button>
            <button class="comp__card__button secondary">Favoriet</button>
          </section>
        </section>
      </section>
    <% }) %>
  </section>

  <div class="pagination-controls-leagues" style="text-align:center; margin: 1em 0;">
  <button id="prev-btn-leagues">Vorige</button>
  <span id="page-number-leagues">Pagina 1 van ...</span>
  <button id="next-btn-leagues">Volgende</button>
</div>

</main>

    <%- include("partials/footer") %>
<script>
    document.addEventListener("DOMContentLoaded", function () {
      
        const currentPage = window.location.pathname.split("/").pop();

       
        const navLinks = document.querySelectorAll("nav ul li a");

        navLinks.forEach(link => {
            if (link.getAttribute("href") === currentPage) {
                link.classList.add("active"); 
            }
        });
    });
</script>
<script>
  // Pagination voor competities
  const leagueCards = document.querySelectorAll('.comp__container section.comp__card');
  const leaguesPerPage = 9;
  let currentLeaguePage = 1;
  const totalLeaguePages = Math.ceil(leagueCards.length / leaguesPerPage);

  function showLeaguePage(page) {
    if(page < 1) page = 1;
    if(page > totalLeaguePages) page = totalLeaguePages;
    currentLeaguePage = page;

    leagueCards.forEach(card => card.style.display = 'none');

    const start = (page - 1) * leaguesPerPage;
    const end = start + leaguesPerPage;
    for(let i = start; i < end && i < leagueCards.length; i++) {
      leagueCards[i].style.display = 'block';
    }

    document.getElementById('page-number-leagues').textContent = `Pagina ${currentLeaguePage} van ${totalLeaguePages}`;
    document.getElementById('prev-btn-leagues').disabled = currentLeaguePage === 1;
    document.getElementById('next-btn-leagues').disabled = currentLeaguePage === totalLeaguePages;
  }

  document.getElementById('prev-btn-leagues').addEventListener('click', () => {
    showLeaguePage(currentLeaguePage - 1);
  });
  document.getElementById('next-btn-leagues').addEventListener('click', () => {
    showLeaguePage(currentLeaguePage + 1);
  });

  // Init league pagination
  showLeaguePage(1);
</script>


</body>

</html>